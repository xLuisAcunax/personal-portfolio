---
---
<form id="contact-form" name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field"
      class="space-y-4 rounded-2xl border border-neutral-800 bg-neutral-950/50 p-6 backdrop-blur-sm">
  
  <!-- Netlify Forms Configuration -->
  <input type="hidden" name="form-name" value="contact" />
  <p class="hidden">
    <label>Don’t fill this out if you’re human: <input name="bot-field" /></label>
  </p>

  <div>
    <label for="name" class="block text-sm font-medium text-neutral-300 mb-1">Name</label>
    <input id="name" name="name" type="text" required minlength="2"
           class="w-full rounded-lg bg-neutral-900/80 border border-neutral-800 px-4 py-2.5 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-neutral-600"
           placeholder="John Doe" />
  </div>

  <div>
    <label for="email" class="block text-sm font-medium text-neutral-300 mb-1">Email</label>
    <input id="email" name="email" type="email" required
           class="w-full rounded-lg bg-neutral-900/80 border border-neutral-800 px-4 py-2.5 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-neutral-600"
           placeholder="john@example.com" />
  </div>

  <div>
    <label for="message" class="block text-sm font-medium text-neutral-300 mb-1">Message</label>
    <textarea id="message" name="message" required minlength="10" rows="5"
              class="w-full rounded-lg bg-neutral-900/80 border border-neutral-800 px-4 py-2.5 text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all placeholder:text-neutral-600"
              placeholder="Tell me about your project..."></textarea>
  </div>

  <div class="flex items-center justify-between gap-4 pt-2">
    <button id="submit" type="submit"
            class="px-6 py-2.5 rounded-lg bg-white text-neutral-900 font-semibold hover:bg-neutral-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2">
      <span>Send Message</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
      </svg>
    </button>
    <span id="status" class="text-sm text-neutral-400" aria-live="polite"></span>
  </div>
</form>

<script>
  const form = document.getElementById('contact-form');
  const submitBtn = document.getElementById('submit');
  const status = document.getElementById('status');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    if (!form || !submitBtn || !status) return;

    submitBtn.setAttribute('disabled', 'true');
    const originalBtnText = submitBtn.innerHTML;
    submitBtn.innerHTML = 'Sending...';
    status.textContent = '';

    try {
      // Netlify forms are submitted to the same URL as the page
      const formData = new FormData(form);
      
      const res = await fetch('/', {
        method: 'POST',
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: new URLSearchParams(formData).toString()
      });

      if (res.ok) {
        form.reset();
        status.textContent = 'Message sent successfully!';
        status.className = 'text-sm text-green-400';
        setTimeout(() => {
          status.textContent = '';
          status.className = 'text-sm text-neutral-400';
        }, 5000);
      } else {
        status.textContent = 'Failed to send. Please try again.';
        status.className = 'text-sm text-red-400';
      }
    } catch (error) {
      status.textContent = 'Network error. Please try again.';
      status.className = 'text-sm text-red-400';
    } finally {
      submitBtn.removeAttribute('disabled');
      submitBtn.innerHTML = originalBtnText;
    }
  });
</script>
